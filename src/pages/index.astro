---
import BaseLayout from "../layouts/pico.astro";
import Card from "../components/card.astro";
import { groupedActions } from "../lib/actions";

const records = groupedActions;
---

<BaseLayout>
  <header class="container">
    <h1>Metering Record Book</h1>
  </header>
  <section class="container">
    {
      records.map(([type, action]) => (
        <Card heading="h2" title={type} items={action} />
      ))
    }
  </section>
</BaseLayout>

<style>
  header {
    --color-heading: hsl(0, 0%, 100%, 0.4);
  }

  h1{
    color: var(--color-heading);
  }

  section {
    display: grid;
    grid-template-columns: minmax(320px, 480px);
    grid-auto-rows: max-content;
    gap: 3rem;
    justify-content: center;
    align-content: center;
  }
  
  @media (min-width: 800px) {
    section {
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    }
  }
</style>
